{% extends "index.html" %}
{% block body_class %}home-page{% endblock %}
{% load static %}
{% block content %}
<style>
   .main-content-wrapper {
  display: flex;
  flex-direction: column;
}
  .responsive-bg {
    background-image: url("{% static 'images/bgwelcome.png' %}");
    background-size: cover;
    
    background-repeat: no-repeat;
    display: flex;
   flex-direction: column;
   background-position: center center;   
   background-attachment: fixed;
   margin: 0;
   padding: 0;
   overflow: hidden;
   position: relative;
   flex: 1 0 auto;
  }
   .custom-heading {
        font-family: 'Share Tech Mono', monospace;
        letter-spacing: 1px;
        font-weight: 400;
    }
    
   .three-column-row {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
        min-height: 100vh; /* Full viewport height */
        align-items: center; /* Center content vertically */
        margin: 0;
        padding: 0;
    }
    
    .left-column {
        flex: 1;
        
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 2rem;
        position: relative;
        z-index: 2; /* Ensure content appears above background */
    }
     .right-column {
        flex: 1;
        
        padding: 2rem;
    }
     /* Content styling */
    .left-content {
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background for better readability */
        padding: 2rem;
        border-radius: 12px;
        
    }
    .btn-outline-dark {
        background-color: rgba(27, 26, 26, 0.8);
        border: 2px solid rgba(27, 26, 26, 0.8);
    }
    
    /* Responsive adjustments */
    @media (max-width: 992px) {
        .three-column-row {
            flex-direction: column;
            min-height: auto;
            padding-top: 2rem;
        }
        
        .left-column {
            order: 1;
        }
        
        .middle-column, .right-column {
            order: 2;
        }
    }
     .card{
      background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background for better readability */
        padding: 2rem;
        border-radius: 10px;
    }
    /* Individual Pedestals */
    .pedestal {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
   
    margin: 0 auto;
}

/* Responsive Pedestal User Circle */
.pedestal-user {
    width: 20vw;
    height: 20vw;
   
    min-width: 80px;
    min-height: 80px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: clamp(1.5rem, 5vw, 2.5rem);
    margin-bottom: 1rem;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

/* Position-specific responsive styling */
.place1 .pedestal-user {
    width: 11vw;
    height: 11vw;
    
    background-color: rgba(255, 215, 0, 0.2);
}

.place2 .pedestal-user {
    width: 8vw;
    height: 8vw;
    
    background-color: rgba(192, 192, 192, 0.2);
}

.place3 .pedestal-user {
    width: 5vw;
    height: 5vw;
   
    background-color: rgba(205, 127, 50, 0.2);
}

/* Responsive Pedestal Base */
.pedestal-base {
    width: 100%;
   
    height: 15px;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 5px 5px 0 0;
}

/* Responsive User Info */
.pedestal-info {
    background-color: rgba(0, 0, 0, 0.3);
    color: white;
    padding: 0.5rem;
    border-radius: 20px;
    margin: 1rem 0;
    text-align: center;
    width: 90%;
    
    font-size: clamp(0.8rem, 3vw, 1rem);
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
    .pedestal-container {
        flex-direction: column;
        align-items: center;
    }
    
    .pedestal {
        margin-bottom: 2rem;
    }
    
    .pedestal-user {
        width: 25vw;
        height: 25vw;
    }
    
    .place1 .pedestal-user {
        width: 30vw;
        height: 30vw;
    }
}

    
</style>

<div class="responsive-bg "  >
   <div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center ">
   <div class="three-column-row w-100 ">
        <!-- Left Column (main content) -->
        <div class="left-column  col-12 col-lg-6 d-flex justify-content-center justify-content-lg-start align-items-center">
            <div class="left-content mx-3 mx-lg-5">
                <h1 class="custom-heading display-5 fw-bold my-2 text-white">Welcome To PhishSnitch</h1>
                <p class="text-white fs-4">Spot the thread. Stop the scam. Stay secure</p>
                <div class=" d-inline-flex gap-2 mb-5">
                    <a href="{% url 'category_view' %}" class="btn btn-outline-light align-item-center btn-lg px-4 rounded-pill" type="button">
                        Take A Quiz  
                    </a>
                    {% if not request.user.is_authenticated %}
                    <a href="{% url 'register' %}" class="btn btn-outline-light  btn-lg px-4 rounded-pill" type="button">
                        SignUp
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Middle Column (can add content later) -->
        <div class="middle-column"></div>
        
        <!-- Right Column (can add content later) -->
        <div class="right-column"></div>
    </div>
   </div>
   


    
    <div class="container-fluid left-content mb-3 py-5">
    <h2 class="text-center text-white">Leaderboard</h2>
    <div class="card mb-3 mx-auto g-0" style="max-width: 800px;">

      <!-- Leaderboard content here -->
          <div class="row row-cols-1 row-cols-md-3">
  {% if leaderboard_users|length == 0 %}
    <div class="col-12 text-center text-danger py-4">
      <h4>No Users Available on leaderboard</h4>
    </div>
  {% else %}
    {# Explicitly get each position #}
    <!-- 2nd Place (Left) -->
    <div class="col border-end p-3">
      <div class="pedestal place2">
        <div class="pedestal-user">2</div>
        <div class="pedestal-info">
          <strong>{{ leaderboard_users.1.user.username }}</strong>
          <div>{{ leaderboard_users.1.user.profile.bio|truncatewords:5 }}</div>
        </div>
        <div class="pedestal-base"></div>
        <p><a class="btn btn-outline-secondary mt-3" href="{% url 'profile' leaderboard_users.0.user.username %}">View Profile »</a></p> 
      </div>
    </div>

    <!-- 1st Place (Middle) -->
    <div class="col border-end p-3">
      <div class="pedestal place1">
        <div class="pedestal-user">1</div>
        <div class="pedestal-info">
          <strong>{{ leaderboard_users.0.user.username }}</strong>
          <div>{{ leaderboard_users.0.user.profile.bio|truncatewords:5 }}</div>
        </div>
        <div class="pedestal-base"></div>
        <p><a class="btn btn-outline-warning mt-3" href="{% url 'profile' leaderboard_users.0.user.username %}">View Profile »</a></p> 
      </div>
    </div>

    <!-- 3rd Place (Right) -->
    <div class="col p-3">
      <div class="pedestal place3">
        <div class="pedestal-user">3</div>
        <div class="pedestal-info">
          <strong>{{ leaderboard_users.2.user.username }}</strong>
          <div>{{ leaderboard_users.2.user.profile.bio|truncatewords:5 }}</div>
        </div>
        <div class="pedestal-base"></div>
        <p><a class="btn btn-outline-danger mt-3" href="{% url 'profile' leaderboard_users.0.user.username %}">View Profile »</a></p> 
      </div>
    </div>
  {% endif %}
</div>

    </div>
    </div>
    

</div>


{% endblock content %}